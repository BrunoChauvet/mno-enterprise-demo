{"version":3,"sources":["/Users/bruno/Workspace/connec-ui/src/$_gendir lazy","/Users/bruno/Workspace/connec-ui/src/app/actions/entities_page.ts","/Users/bruno/Workspace/connec-ui/src/app/app-routing.module.ts","/Users/bruno/Workspace/connec-ui/src/app/app.component.css","/Users/bruno/Workspace/connec-ui/src/app/app.component.html","/Users/bruno/Workspace/connec-ui/src/app/app.component.ts","/Users/bruno/Workspace/connec-ui/src/app/app.module.ts","/Users/bruno/Workspace/connec-ui/src/app/connec-ui/connec-ui.component.css","/Users/bruno/Workspace/connec-ui/src/app/connec-ui/connec-ui.component.html","/Users/bruno/Workspace/connec-ui/src/app/connec-ui/connec-ui.component.ts","/Users/bruno/Workspace/connec-ui/src/app/create-record/create-record.component.css","/Users/bruno/Workspace/connec-ui/src/app/create-record/create-record.component.html","/Users/bruno/Workspace/connec-ui/src/app/create-record/create-record.component.ts","/Users/bruno/Workspace/connec-ui/src/app/db.ts","/Users/bruno/Workspace/connec-ui/src/app/detail/detail.component.css","/Users/bruno/Workspace/connec-ui/src/app/detail/detail.component.html","/Users/bruno/Workspace/connec-ui/src/app/detail/detail.component.ts","/Users/bruno/Workspace/connec-ui/src/app/effects/entities_page.ts","/Users/bruno/Workspace/connec-ui/src/app/entity-attribute/entity-attribute.component.css","/Users/bruno/Workspace/connec-ui/src/app/entity-attribute/entity-attribute.component.html","/Users/bruno/Workspace/connec-ui/src/app/entity-attribute/entity-attribute.component.ts","/Users/bruno/Workspace/connec-ui/src/app/merge-attributes/merge-attributes.component.css","/Users/bruno/Workspace/connec-ui/src/app/merge-attributes/merge-attributes.component.html","/Users/bruno/Workspace/connec-ui/src/app/merge-attributes/merge-attributes.component.ts","/Users/bruno/Workspace/connec-ui/src/app/merge-records/merge-records.component.css","/Users/bruno/Workspace/connec-ui/src/app/merge-records/merge-records.component.html","/Users/bruno/Workspace/connec-ui/src/app/merge-records/merge-records.component.ts","/Users/bruno/Workspace/connec-ui/src/app/models/entities_page.ts","/Users/bruno/Workspace/connec-ui/src/app/models/entity.ts","/Users/bruno/Workspace/connec-ui/src/app/models/product_instance.ts","/Users/bruno/Workspace/connec-ui/src/app/reducers/entities_page.ts","/Users/bruno/Workspace/connec-ui/src/app/reducers/index.ts","/Users/bruno/Workspace/connec-ui/src/app/services/connec-api.service.ts","/Users/bruno/Workspace/connec-ui/src/app/services/mnoe-api.service.ts","/Users/bruno/Workspace/connec-ui/src/app/visualiser/connec-search-similar-dialog.html","/Users/bruno/Workspace/connec-ui/src/app/visualiser/visualiser.component.css","/Users/bruno/Workspace/connec-ui/src/app/visualiser/visualiser.component.html","/Users/bruno/Workspace/connec-ui/src/app/visualiser/visualiser.component.ts","/Users/bruno/Workspace/connec-ui/src/environments/environment.ts","/Users/bruno/Workspace/connec-ui/src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../src/$$_gendir lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/bruno/Workspace/connec-ui/src/$$_gendir lazy\n// module id = ../../../../../src/$$_gendir lazy recursive\n// module chunks = main","import { Action } from '@ngrx/store';\nimport { EntitiesPage } from '../models/entities_page';\n\nexport const LOAD =                 '[Entities] Load';\nexport const LOAD_SUCCESS =         '[Entities] Load Success';\nexport const LOAD_FAIL =            '[Entities] Load Fail';\n\nexport class LoadAction implements Action {\n  readonly type = LOAD;\n}\n\nexport class LoadSuccessAction implements Action {\n  readonly type = LOAD_SUCCESS;\n\n  constructor(public payload: EntitiesPage) { }\n}\n\nexport class LoadFailAction implements Action {\n  readonly type = LOAD_FAIL;\n\n  constructor(public payload: any) { }\n}\n\n\nexport type Actions\n  = LoadAction\n  | LoadSuccessAction\n  | LoadFailAction;\n\n\n\n// WEBPACK FOOTER //\n// /Users/bruno/Workspace/connec-ui/src/app/actions/entities_page.ts","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { VisualiserComponent } from './visualiser/visualiser.component';\nimport { DetailComponent } from './detail/detail.component';\nimport { CreateRecordComponent } from './create-record/create-record.component';\nimport { MergeRecordsComponent } from './merge-records/merge-records.component';\n\nconst routes: Routes = [\n  { path: 'visualiser/:collection', component: VisualiserComponent },\n  { path: 'visualiser/:collection/new', component: CreateRecordComponent },\n  { path: 'visualiser/:collection/merge', component: MergeRecordsComponent },\n  { path: 'visualiser/:collection/:id', component: DetailComponent },\n  { path: '**', redirectTo: '/visualiser/contacts' }\n];\n\n@NgModule({\n  imports: [ RouterModule.forRoot(routes) ],\n  exports: [ RouterModule ]\n})\nexport class AppRoutingModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/bruno/Workspace/connec-ui/src/app/app-routing.module.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/bruno/Workspace/connec-ui/src/app/app.component.css\n// module id = ../../../../../src/app/app.component.css\n// module chunks = main","module.exports = \"<connec-ui></connec-ui>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/bruno/Workspace/connec-ui/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = main","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/bruno/Workspace/connec-ui/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule, APP_INITIALIZER } from '@angular/core';\n\nimport { FormControl, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MatSelectModule } from '@angular/material/select';\n\nimport {\n  MatButtonModule,\n  MatCardModule,\n  MatMenuModule,\n  MatToolbarModule,\n  MatIconModule,\n  MatTableModule,\n  MatPaginatorModule,\n  MatSortModule,\n  MatFormFieldModule,\n  MatInputModule,\n  MatCheckboxModule,\n  MatNativeDateModule\n} from '@angular/material';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\n\nimport { StoreModule } from '@ngrx/store';\nimport { EffectsModule } from '@ngrx/effects';\nimport { DBModule } from '@ngrx/db';\n\nimport { Http, Response } from '@angular/http';\nimport { RestangularModule } from 'ngx-restangular';\n\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\n\nimport { JsonSchemaFormModule } from 'angular2-json-schema-form';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\n\nimport { ConnecApiService } from './services/connec-api.service';\nimport { MnoeApiService } from './services/mnoe-api.service';\n\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/catch';\n\nimport { VisualiserComponent, SearchSimilarDialog } from './visualiser/visualiser.component';\n\nimport { EntitiesPageEffects } from './effects/entities_page';\n\nimport * as fromRoot from './reducers/index';\n\nimport { schema } from './db';\nimport { DetailComponent } from './detail/detail.component';\nimport { ConnecUiComponent } from './connec-ui/connec-ui.component';\nimport { EntityAttributeComponent } from './entity-attribute/entity-attribute.component';\nimport { CreateRecordComponent } from './create-record/create-record.component';\nimport { MergeRecordsComponent } from './merge-records/merge-records.component';\nimport { MergeAttributesComponent } from './merge-attributes/merge-attributes.component';\n\nexport function initConnecApiService(connecApiService: ConnecApiService) {\n  return () => connecApiService.configure();\n}\n\nexport function initMnoeApiService(mnoeApiService: MnoeApiService) {\n  return () => mnoeApiService.configure();\n}\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    VisualiserComponent,\n    SearchSimilarDialog,\n    DetailComponent,\n    ConnecUiComponent,\n    EntityAttributeComponent,\n    CreateRecordComponent,\n    MergeRecordsComponent,\n    MergeAttributesComponent\n  ],\n  entryComponents: [\n    SearchSimilarDialog\n  ],\n  imports: [\n    BrowserModule,\n    StoreModule.forRoot(fromRoot.reducers),\n    EffectsModule.forRoot([EntitiesPageEffects]),\n    DBModule.provideDB(schema),\n    RestangularModule.forRoot(),\n    NgbModule.forRoot(),\n    BrowserAnimationsModule,\n    MatButtonModule,\n    MatCardModule,\n    MatMenuModule,\n    MatToolbarModule,\n    MatIconModule,\n    MatTableModule,\n    MatPaginatorModule,\n    MatSortModule,\n    MatSelectModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatCheckboxModule,\n    MatProgressSpinnerModule,\n    MatDialogModule,\n    MatExpansionModule,\n    MatTooltipModule,\n    MatAutocompleteModule,\n    MatDatepickerModule,\n    MatNativeDateModule,\n    MatRadioModule,\n    MatTabsModule,\n    MatButtonToggleModule,\n    JsonSchemaFormModule,\n    AppRoutingModule\n  ],\n  providers: [\n    ConnecApiService,\n    MnoeApiService,\n    {provide: APP_INITIALIZER, useFactory: initConnecApiService, deps: [ConnecApiService], multi: true},\n    {provide: APP_INITIALIZER, useFactory: initMnoeApiService, deps: [MnoeApiService], multi: true}\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/bruno/Workspace/connec-ui/src/app/app.module.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"mat-select.select-organization {\\n  margin-left: 20px;\\n  font-size: 0.8em;\\n}\\n\\nmat-select.select-organization .mat-select-value, mat-select.select-organization .mat-select-arrow {\\n  color: white !important;\\n}\\n\\nmat-card-header.menu-section-title mat-card-title {\\n  font-weight: 800;\\n}\\n\\n.left-menu .mat-expansion-panel-body {\\n  overflow: visible;\\n}\\n\\n.attribute-filter {\\n  font-size: 0.85em;\\n}\\n\\n.attribute-icon {\\n  vertical-align: middle;\\n  font-size: 1.8em;\\n}\\n\\n.attribute-filter-options {\\n  margin-left: 15px;\\n}\\n\\n.application-filter-title {\\n  font-weight: 800;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/bruno/Workspace/connec-ui/src/app/connec-ui/connec-ui.component.css\n// module id = ../../../../../src/app/connec-ui/connec-ui.component.css\n// module chunks = main","module.exports = \"  <div class=\\\"container-fluid\\\">\\n    <mat-spinner #loader [hidden]=\\\"!loading\\\" style=\\\"display: block; position: absolute; top: 50%; left: 50%; z-index: 999;\\\"></mat-spinner>\\n\\n    <div class=\\\"row\\\">\\n      <mat-toolbar color=\\\"primary\\\">\\n        <div class=\\\"col-2\\\">\\n          <span>Connec! UI</span>\\n\\n          <mat-select #organizationSelector class=\\\"select-organization\\\">\\n            <mat-option *ngFor=\\\"let organization of organizations\\\" [value]=\\\"organization\\\">\\n              {{ organization.name }}\\n            </mat-option>\\n          </mat-select>\\n        </div>\\n\\n        <div class=\\\"col-10\\\">\\n\\n        </div>\\n      </mat-toolbar>\\n    </div>\\n\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-2 left-menu\\\">\\n        <mat-card>\\n          <mat-card-header class=\\\"menu-section-title\\\">\\n            <mat-card-title>Collection</mat-card-title>\\n          </mat-card-header>\\n\\n          <mat-card-content>\\n            <mat-form-field color=\\\"primary\\\">\\n              <input type=\\\"text\\\" matInput #collectionInput [formControl]=\\\"collectionCtrl\\\" [matAutocomplete]=\\\"auto\\\">\\n\\n              <mat-autocomplete #auto=\\\"matAutocomplete\\\">\\n                <mat-option *ngFor=\\\"let collection of filteredcollections\\\" [value]=\\\"collection\\\">\\n                  {{ collection }}\\n                </mat-option>\\n              </mat-autocomplete>\\n            </mat-form-field>\\n          </mat-card-content>\\n        </mat-card>\\n\\n        <mat-accordion multi=\\\"true\\\">\\n          <mat-expansion-panel>\\n            <mat-expansion-panel-header>\\n              <mat-panel-title>Global Search</mat-panel-title>\\n            </mat-expansion-panel-header>\\n\\n            <mat-form-field>\\n              <input #attributeInput matInput placeholder=\\\"Search text\\\">\\n            </mat-form-field>\\n\\n            <button #filterButton mat-mini-fab color=\\\"primary\\\" (click)=\\\"attributeValue = attributeInput.value\\\">\\n              <mat-icon aria-label=\\\"Search\\\" matTooltip=\\\"Search\\\">search</mat-icon>\\n            </button>\\n\\n            <button #clearSearchButton mat-mini-fab color=\\\"accent\\\" (click)=\\\"attributeInput.value = attributeValue = ''\\\">\\n              <mat-icon aria-label=\\\"Clear\\\" matTooltip=\\\"Clear\\\">clear</mat-icon>\\n            </button>\\n          </mat-expansion-panel>\\n\\n          <mat-expansion-panel>\\n            <mat-expansion-panel-header>\\n              <mat-panel-title>Filter by status</mat-panel-title>\\n            </mat-expansion-panel-header>\\n\\n            <div class=\\\"col-12\\\">\\n              <mat-checkbox #checkboxArchived value=\\\"true\\\">\\n                <mat-icon class=\\\"attribute-icon\\\" color=\\\"primary\\\">delete_forever</mat-icon>\\n                Archived\\n              </mat-checkbox>\\n            </div>\\n          </mat-expansion-panel>\\n\\n          <mat-expansion-panel>\\n            <mat-expansion-panel-header>\\n              <mat-panel-title>Search by Attribute</mat-panel-title>\\n            </mat-expansion-panel-header>\\n\\n            <div *ngFor=\\\"let availableAttribute of availableAttributes\\\" class=\\\"attribute-filter\\\">\\n              <div *ngIf=\\\"attributeFilters[availableAttribute['name']]\\\">\\n                <mat-checkbox [(ngModel)]=\\\"attributeFilters[availableAttribute['name']]['enabled']\\\" (change)=\\\"triggerAttributeFilterChange(attributeFilters[availableAttribute['name']])\\\">\\n                  <mat-icon class=\\\"attribute-icon\\\" color=\\\"primary\\\">{{ availableAttribute['icon']}}</mat-icon>\\n                  {{ availableAttribute['name']}}\\n                </mat-checkbox>\\n                <div *ngIf=\\\"attributeFilters[availableAttribute['name']]['enabled']\\\" class=\\\"attribute-filter-options\\\">\\n                  <div *ngIf=\\\"availableAttribute['type'] == 'string'\\\">\\n                    <div *ngIf=\\\"availableAttribute['format'] == 'date-time'\\\">\\n                      <mat-radio-group [(ngModel)]=\\\"attributeFilters[availableAttribute['name']]['operator']\\\" (change)=\\\"triggerAttributeFilterChange(attributeFilters[availableAttribute['name']])\\\">\\n                        <mat-radio-button value=\\\"lte\\\">Before</mat-radio-button>\\n                        <mat-radio-button value=\\\"eq\\\">Equals</mat-radio-button>\\n                        <mat-radio-button value=\\\"gte\\\">After</mat-radio-button>\\n                      </mat-radio-group>\\n                      <mat-form-field>\\n                        <input matInput [matDatepicker]=\\\"picker\\\" placeholder=\\\"Choose a date\\\" [(ngModel)]=\\\"attributeFilters[availableAttribute['name']]['value']\\\" (dateChange)=\\\"triggerAttributeFilterChange(attributeFilters[availableAttribute['name']])\\\">\\n                        <mat-datepicker-toggle matSuffix [for]=\\\"picker\\\"></mat-datepicker-toggle>\\n                        <mat-datepicker #picker></mat-datepicker>\\n                      </mat-form-field>\\n                    </div>\\n\\n                    <div *ngIf=\\\"attributeFilters[availableAttribute['name']]['enum']\\\">\\n                      <mat-form-field>\\n                        <mat-select (change)=\\\"changeAttributeValue(availableAttribute['name'], $event)\\\">\\n                          <mat-option *ngFor=\\\"let value of attributeFilters[availableAttribute['name']]['enum']\\\" [value]=\\\"value\\\">\\n                            {{ value }}\\n                          </mat-option>\\n                        </mat-select>\\n                      </mat-form-field>\\n                    </div>\\n\\n                    <div *ngIf=\\\"!attributeFilters[availableAttribute['name']]['enum'] && availableAttribute['format'] != 'date-time'\\\">\\n                      <mat-radio-group [(ngModel)]=\\\"attributeFilters[availableAttribute['name']]['operator']\\\" (change)=\\\"triggerAttributeFilterChange(attributeFilters[availableAttribute['name']])\\\">\\n                        <mat-radio-button value=\\\"match\\\">Contains</mat-radio-button>\\n                        <mat-radio-button value=\\\"eq\\\">Equals</mat-radio-button>\\n                        <mat-radio-button value=\\\"not_empty\\\">Not Empty</mat-radio-button>\\n                        <mat-radio-button value=\\\"empty\\\">Empty</mat-radio-button>\\n                      </mat-radio-group>\\n                      <mat-form-field>\\n                        <input matInput [(ngModel)]=\\\"attributeFilters[availableAttribute['name']]['value']\\\" (input)=\\\"triggerAttributeFilterChange(attributeFilters[availableAttribute['name']])\\\">\\n                      </mat-form-field>\\n                    </div>\\n                  </div>\\n\\n                  <div *ngIf=\\\"availableAttribute['type'] == 'number'\\\">\\n                    <mat-radio-group [(ngModel)]=\\\"attributeFilters[availableAttribute['name']]['operator']\\\" (change)=\\\"triggerAttributeFilterChange(attributeFilters[availableAttribute['name']])\\\">\\n                        <mat-radio-button value=\\\"lt\\\">Less than</mat-radio-button>\\n                        <mat-radio-button value=\\\"eq\\\">Equals</mat-radio-button>\\n                        <mat-radio-button value=\\\"gt\\\">Greater than</mat-radio-button>\\n                      </mat-radio-group>\\n                      <mat-form-field>\\n                        <input matInput type=\\\"number\\\" [(ngModel)]=\\\"attributeFilters[availableAttribute['name']]['value']\\\" (input)=\\\"triggerAttributeFilterChange(attributeFilters[availableAttribute['name']])\\\">\\n                      </mat-form-field>\\n                  </div>\\n\\n                  <div *ngIf=\\\"availableAttribute['type'] == 'boolean'\\\">\\n                     <mat-radio-group [(ngModel)]=\\\"attributeFilters[availableAttribute['name']]['operator']\\\" (change)=\\\"triggerAttributeFilterChange(attributeFilters[availableAttribute['name']])\\\">\\n                      <mat-radio-button value=\\\"eq\\\">Include</mat-radio-button>\\n                      <mat-radio-button value=\\\"ne\\\">Exclude</mat-radio-button>\\n                    </mat-radio-group>\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n          </mat-expansion-panel>\\n\\n          <mat-expansion-panel>\\n            <mat-expansion-panel-header>\\n              <mat-panel-title>Filter by Application</mat-panel-title>\\n            </mat-expansion-panel-header>\\n\\n            <div class=\\\"row\\\" *ngFor=\\\"let productInstance of productInstances$ | async\\\">\\n              <div class=\\\"col-12\\\">\\n                <img aria-hidden src=\\\"{{ productInstance.logo }}\\\" height=\\\"25\\\" />\\n                <span class=\\\"application-filter-title\\\">{{ productInstance.name }}</span>\\n              </div>\\n              <div class=\\\"col-11 offset-md-1\\\">\\n                <mat-radio-group [(ngModel)]=\\\"selectedApplications[productInstance.uid]\\\" (change)=\\\"triggerDataReload()\\\">\\n                  <mat-radio-button value=\\\"any\\\">Any</mat-radio-button>\\n                  <mat-radio-button value=\\\"include\\\">Include</mat-radio-button>\\n                  <mat-radio-button value=\\\"exclude\\\">Exclude</mat-radio-button>\\n                </mat-radio-group>\\n              </div>\\n            </div>\\n          </mat-expansion-panel>\\n        </mat-accordion>\\n      </div>\\n\\n      <div class=\\\"col-10\\\">\\n        <router-outlet></router-outlet>\\n      </div>\\n    </div>\\n  </div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/bruno/Workspace/connec-ui/src/app/connec-ui/connec-ui.component.html\n// module id = ../../../../../src/app/connec-ui/connec-ui.component.html\n// module chunks = main","import { Component, OnInit, AfterViewInit, ViewEncapsulation, ViewChild, QueryList, ViewChildren, Inject, forwardRef } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { Router, ActivatedRoute, ParamMap, Params } from '@angular/router';\n\nimport { MatPaginator, MatSort, MatSelect, MatInput, MatButton, MatCheckbox } from '@angular/material';\nimport { MatProgressSpinner } from '@angular/material/progress-spinner';\nimport { MatAutocomplete } from '@angular/material/autocomplete';\n\nimport { Store, ActionReducerMap } from '@ngrx/store';\nimport { Observable } from 'rxjs/Observable';\nimport { Subject } from 'rxjs/Subject';\nimport 'rxjs/add/operator/startWith';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/observable/merge';\nimport 'rxjs/add/observable/of';\nimport 'rxjs/add/observable/fromEvent';\n\nimport { EntitiesPage } from '../models/entities_page';\nimport { Entity } from '../models/entity';\nimport { ProductInstance } from '../models/product_instance';\n\nimport { ConnecApiService } from '../services/connec-api.service';\nimport { MnoeApiService } from '../services/mnoe-api.service';\n\nimport { VisualiserComponent } from '../visualiser/visualiser.component';\n\n@Component({\n  selector: 'connec-ui',\n  templateUrl: './connec-ui.component.html',\n  styleUrls: ['./connec-ui.component.css'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ConnecUiComponent implements OnInit {\n  loading = false;\n  config: Observable<any>;\n  organizations = [];\n\n  collections$: Observable<any[]>;\n  collections: string[] = [];\n  filteredcollections: string[] = [];\n  collectionCtrl: FormControl;\n\n  productInstances$: Observable<ProductInstance[]>;\n  productInstances = [];\n\n  attributeValue = undefined;\n\n  selectedApplications = {};\n\n  jsonSchema$: Observable<any>;\n  jsonSchema: any;\n  availableAttributes: any[] = [];\n  attributeFilters: any = {};\n\n  @ViewChild('loader') loader: MatProgressSpinner;\n  @ViewChild('collectionInput') collectionInput: MatInput;\n  @ViewChild('auto') autoComplete: MatAutocomplete;\n\n  @ViewChild('organizationSelector') organizationSelector: MatSelect;\n  @ViewChild('attributeInput') attributeInput: MatInput;\n  @ViewChild('checkboxArchived') checkboxArchived: MatCheckbox;\n\n  @ViewChild('filterButton') filterButton: MatButton;\n  @ViewChild('clearSearchButton') clearSearchButton: MatButton;\n\n  filterButtonClick$: Observable<any>;\n  clearSearchButtonClick$: Observable<any>;\n  reloadDataTrigger = new Subject();\n\n  constructor(\n    private router: Router,\n    public route: ActivatedRoute,\n    private connecApiService: ConnecApiService,\n    private mnoeApiService: MnoeApiService,\n  ) {\n    this.collectionCtrl = new FormControl();\n  }\n\n  ngOnInit() {\n    // Expose search click event\n    this.filterButtonClick$ = Observable.fromEvent(this.filterButton._elementRef.nativeElement, 'click');\n    this.clearSearchButtonClick$ = Observable.fromEvent(this.clearSearchButton._elementRef.nativeElement, 'click');\n\n    // Available collections\n    this.collections$ = this.connecApiService.collections();\n    this.collections$.subscribe((res: any) => {\n      res.forEach((collection: any) => {\n        this.collections.push(collection);\n        this.filteredcollections.push(collection);\n      });\n      this.loadJsonSchemaAttributes();\n    });\n\n    // Reload applications on Organization change\n    this.organizationSelector.change.subscribe((organization: any) => {\n      sessionStorage.setItem('channelId', organization.value['uid']);\n      sessionStorage.setItem('organizationId', organization.value['id']);\n\n      // Reload product instances\n      this.productInstances$ = this.mnoeApiService.productInstances();\n      this.productInstances$.subscribe((res: any) => {\n        this.productInstances = [];\n        res.forEach((record: any) => {\n          this.productInstances.push(record);\n          this.selectedApplications[record['uid']] = 'any';\n        });\n      });\n    });\n\n    // Current user organizations\n    this.mnoeApiService.currentUser().subscribe((user: any) => {\n      user['organizations'].map(organization => this.organizations.push(organization));\n      // Select first Organization\n      if (sessionStorage.getItem('organizationId')) {\n        this.organizationSelector.value = this.organizations.find(organization => organization['id'] === sessionStorage.getItem('organizationId'));\n      } else {\n        this.organizationSelector.value = this.organizations[0];\n      }\n\n      // Load product instances\n      this.productInstances$ = this.mnoeApiService.productInstances();\n      this.productInstances$.subscribe((res: any) => {\n        this.productInstances = [];\n        res.forEach((record: any) => {\n          this.productInstances.push(record);\n          this.selectedApplications[record['uid']] = 'any';\n        });\n      });\n    });\n\n    // Filter autocomplete list\n    this.collectionCtrl.valueChanges\n    .subscribe(collection => {\n      this.filteredcollections = collection ? this.filterCollections(collection) : this.collections.slice();\n    });\n\n    this.autoComplete.optionSelected.subscribe(collection => {\n      this.navigateToCollection(collection.option.value);\n      this.loadJsonSchemaAttributes();\n    });\n  }\n\n  // Return IdMaps where record has been pushed to external application\n  idMapFilter(ids: any): any {\n    if (!ids) { return null; }\n    return ids.filter(idMap => idMap['id'] && idMap['provider']);\n  }\n\n  // Find ProductInstance of an IdMap\n  productInstanceFilter(idMap: any): ProductInstance {\n    return this.productInstances.find(x => x.uid === idMap['group_id']);\n  }\n\n  navigateToCollection(collection: string) {\n    this.router.navigate(['/visualiser', collection]);\n  }\n\n  filterCollections(name: string) {\n    return this.collections.filter(collection =>\n      collection.toLowerCase().indexOf(name.toLowerCase()) === 0);\n  }\n\n  // Workaround as the mat-select change events is triggered before the value gets set on the model\n  changeAttributeValue(name, $event) {\n    this.attributeFilters[name]['value'] = $event.value;\n    this.triggerAttributeFilterChange(this.attributeFilters[name]);\n  }\n\n  triggerAttributeFilterChange(attributeFilter) {\n    if (!attributeFilter['enabled']) { return this.triggerDataReload(); }\n    if ((attributeFilter['value'] || attributeFilter['value'] == 0) && attributeFilter['operator']) { return this.triggerDataReload(); }\n    if (['empty', 'not_empty'].indexOf(attributeFilter['operator']) != -1) { return this.triggerDataReload(); }\n  }\n\n  triggerDataReload() {\n    this.reloadDataTrigger.next();\n  }\n\n  loadJsonSchemaAttributes() {\n    this.availableAttributes = [];\n\n    // Get collection JSON schema\n    const collection = this.collectionCtrl.value;\n    this.jsonSchema$ = this.connecApiService.jsonSchema(collection);\n    this.jsonSchema$.subscribe(schema => {\n      this.jsonSchema = schema.plain();\n\n      const json_properties = this.jsonSchema['properties'][collection]['items']['properties'];\n      const properties = Object.keys(json_properties);\n      properties.forEach(property => {\n        if (['resource_type', 'channel_id', 'group_id'].indexOf(property) == -1) {\n          const propertyHash = json_properties[property];\n          if (['string', 'number', 'boolean'].indexOf(propertyHash['type']) != -1) {\n            propertyHash['name'] = property;\n\n            // Icon to display\n            if (propertyHash['name'] === 'id') {\n              propertyHash['icon'] = 'vpn_key';\n            } else if (propertyHash['name'].endsWith('_id')) {\n              propertyHash['icon'] = 'compare_arrows';\n            } else if (propertyHash['type'] === 'number') {\n              propertyHash['icon'] = 'keyboard';\n            } else if (propertyHash['type'] === 'boolean') {\n              propertyHash['icon'] = 'remove';\n            } else if (propertyHash['type'] === 'string') {\n              if (propertyHash['format'] === 'date-time') {\n                propertyHash['icon'] = 'date_range';\n              } else {\n                propertyHash['icon'] = 'text_format';\n              }\n            } else {\n              propertyHash['icon'] = 'compare_arrows';\n            }\n\n            this.availableAttributes.push(propertyHash);\n          }\n        }\n      });\n\n      // Build list of filterable attributes\n      this.availableAttributes.forEach(availableAttribute => {\n        const value = availableAttribute['type'] === 'boolean' ? true : null;\n        this.attributeFilters[availableAttribute['name']] = {\n          enabled: false,\n          value: value,\n          operator: 'eq',\n          type: availableAttribute['type'],\n          enum: availableAttribute['enum']\n        };\n     });\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/bruno/Workspace/connec-ui/src/app/connec-ui/connec-ui.component.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/bruno/Workspace/connec-ui/src/app/create-record/create-record.component.css\n// module id = ../../../../../src/app/create-record/create-record.component.css\n// module chunks = main","module.exports = \"<div class=\\\"row\\\">\\n  <div class=\\\"col-1\\\">\\n    <button mat-icon-button (click)=\\\"navigateToCollection(collection)\\\">\\n      <mat-icon aria-label=\\\"Back\\\">chevron_left</mat-icon> Back\\n    </button>\\n  </div>\\n  <div class=\\\"col-11\\\">\\n    <h2>Create {{ collection }}</h2>\\n  </div>\\n</div>\\n\\n<json-schema-form\\n  framework=\\\"material-design\\\"\\n  [loadExternalAssets]=\\\"true\\\"\\n  [schema]=\\\"jsonSchema\\\"\\n  (onSubmit)=\\\"createRecord($event)\\\">\\n</json-schema-form>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/bruno/Workspace/connec-ui/src/app/create-record/create-record.component.html\n// module id = ../../../../../src/app/create-record/create-record.component.html\n// module chunks = main","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { Router, ActivatedRoute, ParamMap, Params } from '@angular/router';\n\nimport { Observable } from 'rxjs/Observable';\n\nimport { ConnecApiService } from '../services/connec-api.service';\n\n@Component({\n  selector: 'app-create-record',\n  templateUrl: './create-record.component.html',\n  styleUrls: ['./create-record.component.css'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class CreateRecordComponent implements OnInit {\n  jsonSchema$: Observable<any>;\n  jsonSchema: any;\n  collection: string;\n\n  constructor(\n    private connecApiService: ConnecApiService,\n    public route: ActivatedRoute,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.route.params.subscribe((params: Params) => {\n      // Load Json schema\n      this.collection = params['collection'];\n      this.jsonSchema$ = this.connecApiService.jsonSchema(params['collection']);\n      this.jsonSchema$.subscribe(schema => this.jsonSchema = schema.plain());\n    });\n  }\n\n  createRecord(formData) {\n    const keys = Object.keys(formData);\n    const collection = keys[0];\n    const record = formData[collection][0];\n    const data = {};\n    data[collection] = record;\n\n    this.connecApiService.createEntity(collection, data)\n      .subscribe(record => {\n        this.router.navigate(['/visualiser', record.resource_type, record.id]);\n        scroll(0, 0);\n      });\n  }\n\n  navigateToCollection(collection: string) {\n    this.router.navigate(['/visualiser', collection]);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/bruno/Workspace/connec-ui/src/app/create-record/create-record.component.ts","import { DBSchema } from '@ngrx/db';\n\n\n/**\n * ngrx/db uses a simple schema config object to initialize stores in IndexedDB.\n */\nexport const schema: DBSchema = {\n  version: 1,\n  name: 'connec_entities',\n  stores: {\n    entities: {\n      primaryKey: 'id'\n    }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// /Users/bruno/Workspace/connec-ui/src/app/db.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/bruno/Workspace/connec-ui/src/app/detail/detail.component.css\n// module id = ../../../../../src/app/detail/detail.component.css\n// module chunks = main","module.exports = \"<div *ngIf=\\\"entity$ | async\\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-1\\\">\\n      <button mat-icon-button (click)=\\\"navigateToCollection(entity.resource_type)\\\">\\n        <mat-icon aria-label=\\\"Back\\\">chevron_left</mat-icon> Back\\n      </button>\\n    </div>\\n    <div class=\\\"col-11\\\">\\n      <h2>{{ entity.friendlyName }}</h2>\\n    </div>\\n  </div>\\n\\n  <mat-tab-group>\\n    <mat-tab label=\\\"View Details\\\">\\n      <app-entity-attribute [entity]=\\\"entity\\\"></app-entity-attribute>\\n    </mat-tab>\\n\\n    <mat-tab label=\\\"Edit Details\\\">\\n      <json-schema-form\\n        [schema]=\\\"jsonSchema\\\"\\n        [(data)]=\\\"editEntityData\\\"\\n        framework=\\\"material-design\\\"\\n        loadExternalAssets=\\\"true\\\"\\n        (onSubmit)=\\\"updateEntity($event)\\\">\\n      </json-schema-form>\\n    </mat-tab>\\n\\n    <mat-tab label=\\\"View matching records\\\">\\n      <span *ngIf=\\\"matchingRecords?.entities.length == 0\\\">No matching records found</span>\\n\\n      <table class=\\\"table table-striped\\\" *ngIf=\\\"matchingRecords?.entities.length > 0\\\">\\n        <tbody>\\n          <tr *ngFor=\\\"let matchingRecord of matchingRecords?.entities\\\">\\n            <td>\\n              {{ matchingRecord.friendlyName }}\\n            </td>\\n            <td>\\n              <button color=\\\"primary\\\" mat-icon-button title=\\\"Details\\\" (click)=\\\"navigateToDetails(matchingRecord)\\\">\\n                <mat-icon>zoom_in</mat-icon>\\n              </button>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </mat-tab>\\n  </mat-tab-group>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/bruno/Workspace/connec-ui/src/app/detail/detail.component.html\n// module id = ../../../../../src/app/detail/detail.component.html\n// module chunks = main","import { Component, OnInit, ViewEncapsulation, ViewChild, Inject, forwardRef } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { Router, ActivatedRoute, ParamMap, Params } from '@angular/router';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\n\nimport { ConnecUiComponent } from '../connec-ui/connec-ui.component';\nimport { ConnecApiService } from '../services/connec-api.service';\n\nimport { Observable } from 'rxjs/Observable';\nimport { Entity } from '../models/entity';\nimport { EntitiesPage } from '../models/entities_page';\n\n@Component({\n  selector: 'app-detail',\n  templateUrl: './detail.component.html',\n  styleUrls: ['./detail.component.css'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class DetailComponent implements OnInit {\n  entity$: Observable<Entity>;\n  entity: Entity;\n  editEntityData: any = {};\n\n  matchingRecords$: Observable<EntitiesPage>;\n  matchingRecords: EntitiesPage;\n\n  jsonSchema$: Observable<any>;\n  jsonSchema: any;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private connecApiService: ConnecApiService,\n    private _location: Location,\n    public dialog: MatDialog,\n    @Inject(forwardRef(() => ConnecUiComponent)) public _parent: ConnecUiComponent\n  ) { }\n\n  ngOnInit() {\n    this.loadEntity();\n\n    // Force selected collection using route\n    this.route.params.subscribe((params: Params) => {\n      this._parent.collectionCtrl.setValue(params['collection']);\n      this.loadEntity();\n      this.jsonSchema$ = this.connecApiService.jsonSchema(params['collection']);\n      this.jsonSchema$.subscribe(schema => {\n        this.jsonSchema = schema.plain();\n      });\n    });\n  }\n\n  loadEntity() {\n    // Fetch entity\n    this.entity$ = this.route.params.switchMap((params: Params) => {\n      this._parent.loading = true;\n      return this.connecApiService.fetchEntity(params['collection'], params['id']);\n    });\n\n    // On entity load, fetch matching records\n    this.entity$.subscribe(entity => {\n      this._parent.loading = false;\n      this.entity = entity;\n      this.editEntityData[this.entity.resource_type] = [this.entity];\n\n      // Fetch matching records\n      if (this.entity.matching_records) {\n        let filter = '_id in ';\n        const ids = this.entity.matching_records.map(record => {\n          if (!record.match_id) { return ''; }\n          return '\\'' + record.match_id.find(idMap => idMap['provider'] === 'connec')['id'] + '\\'';\n        }).join(',');\n        filter += '[' + ids + ']';\n\n        this.matchingRecords$ = this.connecApiService.fetchEntities(this.entity.resource_type, 100, 0, 'created_at', 'ASC', filter);\n        this.matchingRecords$.subscribe(matchingRecords => this.matchingRecords = matchingRecords);\n      }\n    });\n  }\n\n  updateEntity($event) {\n    const data = {};\n    data[this.entity.resource_type] = this.editEntityData[this.entity.resource_type][0];\n    this.connecApiService.updateEntity(this.entity, data);\n  }\n\n  navigateToCollection(collection: string) {\n    this.router.navigate(['/visualiser', collection]);\n    scroll(0, 0);\n  }\n\n  navigateToDetails(entity: Entity) {\n    this.router.navigate(['/visualiser', entity.resource_type, entity['connecId']]);\n    scroll(0, 0);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/bruno/Workspace/connec-ui/src/app/detail/detail.component.ts","import 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/startWith';\nimport 'rxjs/add/operator/switchMap';\nimport 'rxjs/add/operator/mergeMap';\nimport 'rxjs/add/operator/toArray';\nimport { Injectable } from '@angular/core';\nimport { Action } from '@ngrx/store';\nimport { Effect, Actions } from '@ngrx/effects';\nimport { Database } from '@ngrx/db';\nimport { Observable } from 'rxjs/Observable';\nimport { defer } from 'rxjs/observable/defer';\nimport { of } from 'rxjs/observable/of';\n\nimport * as entitiesPageAction from '../actions/entities_page';\nimport { EntitiesPage } from '../models/entities_page';\n\nimport { ConnecApiService } from '../services/connec-api.service';\n\n@Injectable()\nexport class EntitiesPageEffects {\n\n  /**\n   * This effect does not yield any actions back to the store. Set\n   * `dispatch` to false to hint to @ngrx/effects that it should\n   * ignore any elements of this effect stream.\n   *\n   * The `defer` observable accepts an observable factory function\n   * that is called when the observable is subscribed to.\n   * Wrapping the database open call in `defer` makes\n   * effect easier to test.\n   */\n  @Effect({ dispatch: false })\n  openDB$: Observable<any> = defer(() => {\n    return this.db.open('connec_entities');\n  });\n\n  /**\n   * This effect makes use of the `startWith` operator to trigger\n   * the effect immediately on startup.\n   */\n  @Effect()\n  loadEntities$: Observable<Action> = this.actions$\n    .ofType(entitiesPageAction.LOAD)\n    // .startWith(new entitiesPageAction.LoadAction())\n    .mergeMap(() => {\n      return this.connecApiService.fetchEntities('contacts')\n        .map((entitiesPage: EntitiesPage) => new entitiesPageAction.LoadSuccessAction(entitiesPage))\n        .catch(error => of(new entitiesPageAction.LoadFailAction(error)));\n    });\n\n    constructor(\n      private actions$: Actions,\n      private connecApiService: ConnecApiService,\n      private db: Database\n    ) {}\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/bruno/Workspace/connec-ui/src/app/effects/entities_page.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"table.connec-details {\\n  margin-bottom: 0px;\\n}\\n\\ntable.connec-details td {\\n  padding: 0px 1em;\\n  vertical-align: middle;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/bruno/Workspace/connec-ui/src/app/entity-attribute/entity-attribute.component.css\n// module id = ../../../../../src/app/entity-attribute/entity-attribute.component.css\n// module chunks = main","module.exports = \"<table class=\\\"table table-striped connec-details\\\">\\n  <tbody>\\n    <tr *ngFor=\\\"let key of properties()\\\">\\n      <td>{{ key }}</td>\\n      <td *ngIf=\\\"!entity[key]\\\"></td>\\n      <td *ngIf=\\\"entity[key] && isArray(key) && !isIdMap(key)\\\" colspan=\\\"2\\\">\\n        <app-entity-attribute *ngFor=\\\"let element of entity[key]\\\" [entity]=\\\"element\\\"></app-entity-attribute>\\n      </td>\\n      <td *ngIf=\\\"entity[key] && !isArray(key) && isObject(key) && !isIdMap(key)\\\" colspan=\\\"2\\\">\\n        <app-entity-attribute [entity]=\\\"entity[key]\\\"></app-entity-attribute>\\n      </td>\\n      <td *ngIf=\\\"entity[key] && isIdMap(key)\\\">\\n        <button mat-icon-button (click)=\\\"navigateToDetails(key)\\\">\\n          <mat-icon aria-label=\\\"View\\\">zoom_in</mat-icon>View {{ connecIdMap(entity[key])['id'] }}\\n        </button>\\n      </td>\\n      <td *ngIf=\\\"entity[key] && !isObject(key)\\\">\\n        {{ entity[key] }}\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/bruno/Workspace/connec-ui/src/app/entity-attribute/entity-attribute.component.html\n// module id = ../../../../../src/app/entity-attribute/entity-attribute.component.html\n// module chunks = main","import { Component, OnInit, ViewEncapsulation, ViewChild, Input } from '@angular/core';\nimport { Router, ActivatedRoute, ParamMap, Params } from '@angular/router';\n\nimport { ConnecApiService } from '../services/connec-api.service';\n\nimport { Observable } from 'rxjs/Observable';\nimport { Entity } from '../models/entity';\n\nimport * as pluralize from 'pluralize';\n\n@Component({\n  selector: 'app-entity-attribute',\n  templateUrl: './entity-attribute.component.html',\n  styleUrls: ['./entity-attribute.component.css'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class EntityAttributeComponent implements OnInit {\n  @Input() entity: any;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private connecApiService: ConnecApiService\n  ) { }\n\n  ngOnInit() {\n\n  }\n\n  // Navigate to the association\n  // key: association name (eg: organization_id)\n  navigateToDetails(key: string) {\n    let collection;\n    if (key.endsWith('_id')) {\n      // Association: {organization_id: '234214'}\n      collection = pluralize(key.replace('_id', ''));\n    } else {\n      // Handle polymorphic links: {class: 'Invoice', id: '8273'}\n      collection = pluralize(this.entity['class'].toLowerCase());\n    }\n\n    // Find Connec! IdMap\n    const idMap = this.connecIdMap(this.entity[key]);\n    this.router.navigate(['/visualiser', collection, idMap['id']]);\n  }\n\n  properties() {\n    // Ignore properties id and matching_records\n    const keys = Object.keys(this.entity);\n    const ignoredKeys = ['matching_records'];\n    if (keys.indexOf('class') == -1) { ignoredKeys.push('id'); }\n\n    for (const ignoredKey of ignoredKeys) {\n      const index = keys.indexOf(ignoredKey);\n      if (index !== -1) { keys.splice(index, 1); }\n    }\n\n    return keys;\n  }\n\n  isIdMap(key) {\n    return this.isObject(key) && (key === 'id' || key.endsWith('_id'));\n  }\n\n  isObject(key) {\n    return typeof this.entity[key] === 'object';\n  }\n\n  isArray(key) {\n    return Array.isArray(this.entity[key]);\n  }\n\n  connecIdMap(idMaps: Array<string>) {\n    return idMaps.find(idMap => idMap['provider'] === 'connec');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/bruno/Workspace/connec-ui/src/app/entity-attribute/entity-attribute.component.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"app-merge-attributes {\\n  width: 100%;\\n}\\n\\n.merge-attribute-name {\\n  font-weight: 800;\\n}\\n\\n.merge-attribute-name-nested span.merge-attribute-name {\\n  margin-left: 10px;\\n}\\n\\n.merge-attribute-row {\\n  width: 100%;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/bruno/Workspace/connec-ui/src/app/merge-attributes/merge-attributes.component.css\n// module id = ../../../../../src/app/merge-attributes/merge-attributes.component.css\n// module chunks = main","module.exports = \"<div class=\\\"row\\\" *ngFor=\\\"let attribute of properties()\\\">\\n  <div class=\\\"col-2\\\" *ngIf=\\\"!hasNestedProperties[attribute]\\\">\\n    <span class=\\\"merge-attribute-name\\\">{{ attribute }}</span>\\n  </div>\\n\\n  <div class=\\\"col-10\\\" *ngIf=\\\"!hasNestedProperties[attribute]\\\">\\n    <mat-button-toggle-group class=\\\"row merge-attribute-row\\\" [(ngModel)]=\\\"selectedAttributes[attribute]\\\">\\n      <div class=\\\"col-{{12/numberRecords}} merge-attribute-value\\\" *ngFor=\\\"let record of records\\\">\\n        <mat-button-toggle value=\\\"{{copyValue(record[attribute])}}\\\">\\n          <span style=\\\"width: 100%\\\">{{ record[attribute] }}</span>\\n        </mat-button-toggle>\\n      </div>\\n    </mat-button-toggle-group>\\n  </div>\\n\\n  <div class=\\\"col-12\\\" *ngIf=\\\"hasNestedProperties[attribute]\\\">\\n    <span class=\\\"merge-attribute-name\\\">{{ attribute }}</span>\\n    <div class=\\\"merge-attribute-name-nested\\\">\\n      <app-merge-attributes\\n        [records]=\\\"subRecords(attribute)\\\"\\n        [selectedAttributes]=\\\"selectedAttributes[attribute]\\\">\\n      </app-merge-attributes>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/bruno/Workspace/connec-ui/src/app/merge-attributes/merge-attributes.component.html\n// module id = ../../../../../src/app/merge-attributes/merge-attributes.component.html\n// module chunks = main","import { Component, OnInit, ViewEncapsulation, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-merge-attributes',\n  templateUrl: './merge-attributes.component.html',\n  styleUrls: ['./merge-attributes.component.css'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class MergeAttributesComponent implements OnInit {\n  @Input() records: any[]; // Records to select values from\n  @Input() jsonProperties: any; // Json schema properties of the records\n  @Input() selectedAttributes: any; // User selected attributes\n\n  numberRecords: number;\n  hasNestedProperties: any = {};\n\n  constructor() {\n\n  }\n\n  ngOnInit() {\n    this.numberRecords = this.records.length;\n\n    this.properties().forEach(key => {\n      this.hasNestedProperties[key] = this.records.some(record => (record[key] && this.isObject(record[key])));\n      const defaultValue = this.records.map(record => (record[key] && !this.isArray(record[key]) && !this.isObject(record[key])) ? record[key].toString() : record[key])\n                                     .find(value => value);\n      this.selectedAttributes[key] = this.copyValue(defaultValue);\n    });\n  }\n\n  isArray(value) {\n    return Array.isArray(value);\n  }\n\n  isObject(value) {\n    return !this.isArray(value) && typeof value === 'object';\n  }\n\n  copyValue(value) {\n    return this.isObject(value) ? Object.assign({}, value) : value;\n  }\n\n  hasValue(obj) {\n    return (\n      (!this.isObject(obj) && !!obj) // Empty string\n      || (this.isArray(obj) && obj.length > 0) // Empty array\n      || (this.isObject(obj) && Object.keys(obj).length > 0 && Object.keys(obj).some(key => this.hasValue(obj[key]))) // Empty object\n     );\n  }\n\n  // Return available properties with a selectable value\n  properties() {\n    // Find keys based on JSON Schema or available properties\n    let keys = [];\n    if (this.jsonProperties) {\n      keys = Object.keys(this.jsonProperties);\n    } else {\n      this.records.forEach(record => {\n        Object.keys(record).forEach(attribute => {\n          if (keys.indexOf(attribute) == -1) { keys.push(attribute); }\n        });\n      });\n    }\n\n    // Remove keys with only wmpty values\n    keys = keys.filter(key => this.records.some(record => this.hasValue(record[key])));\n\n    // Remove non modifiable properties\n    for (const ignoredKey of ['id', 'matching_records', 'group_id', 'channel_id', 'resource_type', 'connecId', 'friendlyName', 'created_at', 'updated_at']) {\n      const index = keys.indexOf(ignoredKey);\n      if (index !== -1) { keys.splice(index, 1); }\n    }\n\n    return keys;\n  }\n\n  subRecords(attribute) {\n    return this.records.map(record => record[attribute]);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/bruno/Workspace/connec-ui/src/app/merge-attributes/merge-attributes.component.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"mat-icon {\\n  vertical-align: middle;\\n}\\n\\n.mat-button-toggle {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.mat-button-toggle-label {\\n  width: 100%;\\n}\\n\\n.mat-button-toggle-checked {\\n  background: #874ac7;\\n  color: rgba(255,255,255,.87);\\n  display: block;\\n  margin-top: 5px;\\n  margin-bottom: 5px;\\n}\\n\\n.menu-header {\\n  padding-top: 10px;\\n  padding-bottom: 10px;\\n}\\n\\n.merge-record {\\n  display: block;\\n  padding: 5px;\\n}\\n\\n.merge-record mat-radio-button {\\n  display: block;\\n  padding: 5px;\\n}\\n\\n.merge-record-keep mat-radio-button {\\n  background: #874ac7;\\n  color: rgba(255,255,255,.87);\\n}\\n\\n.merge-record-delete mat-radio-button {\\n\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/bruno/Workspace/connec-ui/src/app/merge-records/merge-records.component.css\n// module id = ../../../../../src/app/merge-records/merge-records.component.css\n// module chunks = main","module.exports = \"<div class=\\\"row menu-header\\\">\\n  <div class=\\\"col-2\\\">\\n    <button mat-icon-button (click)=\\\"navigateToCollection()\\\">\\n      <mat-icon aria-label=\\\"Back\\\">chevron_left</mat-icon> Back\\n    </button>\\n  </div>\\n\\n  <div class=\\\"col-4\\\">\\n    <h2>Merge {{ collection }}</h2>\\n  </div>\\n\\n  <div class=\\\"col-2\\\">\\n    <button mat-raised-button color=\\\"primary\\\" (click)=\\\"mergeRecords()\\\" [disabled]=\\\"!selectedAttributes['id']\\\">\\n      <mat-icon aria-label=\\\"Back\\\">call_merge</mat-icon> Merge\\n    </button>\\n  </div>\\n</div>\\n\\n<div class=\\\"row\\\">\\n  <div class=\\\"col-2\\\">\\n    <span class=\\\"merge-attribute-name\\\">Prime Record</span>\\n  </div>\\n\\n  <div class=\\\"col-10 merge-attribute-value\\\" *ngIf=\\\"records\\\">\\n    <mat-radio-group class=\\\"row merge-attribute-row\\\" [(ngModel)]=\\\"selectedAttributes['id']\\\">\\n      <div class=\\\"col-{{12/numberRecords}} merge-record {{selectedAttributes['id'] == entity['connecId'] ? 'merge-record-keep' : 'merge-record-delete'}}\\\" *ngFor=\\\"let entity of records.entities\\\">\\n        <mat-radio-button value=\\\"{{entity['connecId']}}\\\">\\n          <span *ngIf=\\\"!selectedAttributes['id']\\\">\\n            Select record to keep\\n          </span>\\n          <span *ngIf=\\\"selectedAttributes['id'] && selectedAttributes['id'] == entity['connecId']\\\">\\n            <mat-icon color=\\\"warn\\\">save</mat-icon>\\n            Record will be kept\\n          </span>\\n          <span *ngIf=\\\"selectedAttributes['id'] && selectedAttributes['id'] != entity['connecId']\\\">\\n            <mat-icon color=\\\"warn\\\">delete</mat-icon>\\n            Record will be deleted\\n          </span>\\n        </mat-radio-button>\\n      </div>\\n    </mat-radio-group>\\n  </div>\\n</div>\\n\\n<app-merge-attributes *ngIf=\\\"records\\\"\\n  [jsonProperties]=\\\"jsonProperties\\\"\\n  [records]=\\\"records.entities\\\"\\n  [selectedAttributes]=\\\"selectedAttributes\\\">\\n</app-merge-attributes>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/bruno/Workspace/connec-ui/src/app/merge-records/merge-records.component.html\n// module id = ../../../../../src/app/merge-records/merge-records.component.html\n// module chunks = main","import { Component, OnInit, ViewEncapsulation, Inject, forwardRef } from '@angular/core';\nimport { Router, ActivatedRoute, ParamMap, Params } from '@angular/router';\n\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/forkJoin';\n\nimport { ConnecUiComponent } from '../connec-ui/connec-ui.component';\nimport { ConnecApiService } from '../services/connec-api.service';\n\nimport { EntitiesPage } from '../models/entities_page';\nimport { Entity } from '../models/entity';\n\n@Component({\n  selector: 'app-merge-records',\n  templateUrl: './merge-records.component.html',\n  styleUrls: ['./merge-records.component.css'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class MergeRecordsComponent implements OnInit {\n  collection: string = null;\n  records$: Observable<EntitiesPage>;\n  records: EntitiesPage;\n  numberRecords: number;\n\n  recordsAttributes: any[] = [];\n  selectedAttributes: any = {};\n\n  jsonSchema$: Observable<any>;\n  jsonSchema: any;\n  jsonProperties: any;\n\n  constructor(\n    public route: ActivatedRoute,\n    public router: Router,\n    public connecApiService: ConnecApiService,\n    @Inject(forwardRef(() => ConnecUiComponent)) public _parent: ConnecUiComponent\n  ) { }\n\n  ngOnInit() {\n    // Force selected collection using route\n    this.route.params.subscribe((params: Params) => {\n      this._parent.collectionCtrl.setValue(params['collection']);\n    });\n\n    this.route.params.subscribe((params: Params) => {\n      this.collection = params['collection'];\n      const filter = '_id in [' + params['records'] + ']';\n      Observable.forkJoin(\n        // Load json schema\n        this.jsonSchema$ = this.connecApiService.jsonSchema(this.collection),\n        // Load records\n        this.records$ = this.connecApiService.fetchEntities(this.collection, 100, 0, 'created_at', 'ASC', filter, null, false, [], false)\n      ).subscribe(res => {\n        // Process Json Schema\n        this.jsonSchema = res[0].plain();\n        this.jsonProperties = this.jsonSchema['properties'][this.collection]['items']['properties'];\n\n        // Process records\n        this.records = res[1];\n        this.numberRecords = this.records.entities.length;\n      });\n    });\n  }\n\n  mergeRecords() {\n    const primeRecord: Entity = this.records.entities.find(entity => entity['connecId'] == this.selectedAttributes['id']);\n    const mergedRecords: Entity[] = this.records.entities.filter(entity => entity['connecId'] != this.selectedAttributes['id']);\n\n    this.connecApiService.mergeRecords(primeRecord, mergedRecords, this.selectedAttributes)\n      .subscribe(record => {\n        this.navigateToDetails(record);\n        scroll(0, 0);\n      });\n  }\n\n  navigateToCollection() {\n    this.router.navigate(['/visualiser', this.collection]);\n    scroll(0, 0);\n  }\n\n  navigateToDetails(entity: Entity) {\n    this.router.navigate(['/visualiser', entity.resource_type, entity['connecId']]);\n    scroll(0, 0);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/bruno/Workspace/connec-ui/src/app/merge-records/merge-records.component.ts","import { Entity } from './entity';\n\nexport class EntitiesPage {\n  entities: Entity[];\n  pagination: any;\n\n  constructor(entities: Entity[], pagination: any) {\n    this.entities = entities;\n    this.pagination = pagination;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/bruno/Workspace/connec-ui/src/app/models/entities_page.ts","export class Entity {\n  id: any;\n\n  // Dynamic attributes\n  [key: string]: any\n\n  constructor(data: any) {\n    for (const key in data) {\n       this[key] = data[key];\n    }\n\n    this['connecId'] = this.connecId();\n    this['friendlyName'] = this.friendlyName();\n  }\n\n  public connecId() {\n    return this.isString(this.id) ? this.id : this.id.find(idMap => idMap['provider'] === 'connec')['id'];\n  }\n\n  public friendlyName() {\n    return this.transaction_number || this.payment_reference || this.name || this.full_name || this.reference || this.number || this.title;\n  }\n\n  public properties(): string[] {\n    const keys: string[] = Object.keys(this);\n    for (const ignoredKey of ['id', 'matching_records']) {\n      const index = keys.indexOf(ignoredKey);\n      if (index !== -1) { keys.splice(index, 1); }\n    }\n\n    return keys;\n  }\n\n  private isString(value) {\n    return typeof value === 'string' || value instanceof String;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/bruno/Workspace/connec-ui/src/app/models/entity.ts","export class ProductInstance {\n  id: string;\n\n  // Dynamic attributes\n  [key: string]: any\n\n  constructor(data: any) {\n    for (const key in data) {\n       this[key] = data[key];\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/bruno/Workspace/connec-ui/src/app/models/product_instance.ts","import * as entities from '../actions/entities_page';\nimport { EntitiesPage } from '../models/entities_page';\n\nexport function reducer(state: EntitiesPage, action: entities.Actions): EntitiesPage {\n  switch (action.type) {\n    case entities.LOAD: {\n      return state;\n    }\n\n    case entities.LOAD_SUCCESS: {\n      return action.payload;\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/bruno/Workspace/connec-ui/src/app/reducers/entities_page.ts","import { ActionReducerMap } from '@ngrx/store';\nimport * as fromEntitiesPage from './entities_page';\nimport { EntitiesPage } from '../models/entities_page';\n\nexport interface State {\n  entitiesPage: EntitiesPage;\n}\n\nexport const reducers: ActionReducerMap<State> = {\n  entitiesPage: fromEntitiesPage.reducer\n};\n\n\n\n// WEBPACK FOOTER //\n// /Users/bruno/Workspace/connec-ui/src/app/reducers/index.ts","import { Injectable, Inject, forwardRef  } from '@angular/core';\nimport { URLSearchParams } from '@angular/http';\n\nimport { Observable } from 'rxjs/Observable';\nimport { ErrorObservable } from 'rxjs/observable/ErrorObservable';\n\nimport { RestangularModule, Restangular } from 'ngx-restangular';\n\nimport { MnoeApiService } from '../services/mnoe-api.service';\n\nimport { ConnecUiComponent } from '../connec-ui/connec-ui.component';\n\nimport { EntitiesPage } from '../models/entities_page';\nimport { Entity } from '../models/entity';\nimport { ProductInstance } from '../models/product_instance';\n\n@Injectable()\nexport class ConnecApiService {\n  config$: Observable<any>;\n  config: any;\n  apiService;\n\n  constructor(\n    private restangular: Restangular,\n    private mnoeApiService: MnoeApiService,\n  ) {\n    this.configure();\n  }\n\n  // Fetch environment settings (Connec! endpoint)\n  public configure(): Promise<any> {\n    const promise = new Promise((resolve, reject) => {\n      // Fetch Config\n      this.config$ = this.mnoeApiService.systemIdentity();\n      this.config$.subscribe(res => {\n        this.config = res;\n        this.restangular = this.restangular.withConfig((RestangularProvider) => {\n          RestangularProvider.setBaseUrl(this.config['connec_endpoint'] + '/api/v2');\n          RestangularProvider.setDefaultHeaders({'Content-Type': 'application/json', 'Accept': 'application/json', 'CONNEC-EXTERNAL-IDS': true});\n          // RestangularProvider.setRequestSuffix('.json');\n\n          // Extract collection content\n          RestangularProvider.setResponseExtractor(function(response, operation) {\n            if (operation === 'getList') {\n              return response[Object.keys(response)[0]];\n            }\n            return response;\n          });\n        });\n\n        resolve();\n      });\n    });\n\n    return promise;\n  }\n\n  public collections(): Observable<String[]> {\n    return this.restangular.all('/' + sessionStorage.getItem('channelId')).get('', {sso_session: sessionStorage.getItem('ssoSession')})\n    .map((res: any) => {\n      const cols = res._links.map((collection: any) => Object.keys(collection)[0]);\n      return cols;\n     })\n    .catch(error => {\n      this.handleError(error);\n    });\n  }\n\n  public fetchEntities(collection: string, pageSize= 100, pageNumber= 0, sortColumn= null, sortOrder= 'ASC', filter= null, search= null, archived= false, mappings= [], externalIds= true): Observable<EntitiesPage> {\n    const options = {'$top': pageSize, '$skip': pageSize * (pageNumber), 'mappings[]': [], sso_session: sessionStorage.getItem('ssoSession')};\n\n    mappings.forEach(m => options['mappings[]'].push(JSON.stringify(m)));\n\n    let archiveFilter = '';\n    if (archived) {\n      archiveFilter = 'status eq \\'ARCHIVED\\'';\n    } else {\n      archiveFilter = 'status ne \\'ARCHIVED\\'';\n    }\n\n    // Filter: $filter=code eq 'CT3'\n    if (filter) { archiveFilter += ' and ' + filter; }\n    options['$filter'] = archiveFilter;\n\n    // Search\n    if (search) { options['$search'] = search; }\n\n    // Order: $orderby=name ASC\n    if (sortColumn) { options['$orderby'] = sortColumn + ' ' + sortOrder; }\n\n    return this.restangular.all(sessionStorage.getItem('channelId')).customGET(collection, options, {'CONNEC-EXTERNAL-IDS': externalIds})\n    .map((res: any) => this.extractQueryData(res, collection))\n    .catch(error => this.handleError(error));\n  }\n\n  public fetchEntity(collection: string, id: string): Observable<Entity> {\n    return this.restangular.all(sessionStorage.getItem('channelId')).one(collection, id).get({'$expand': 'matching_records', sso_session: sessionStorage.getItem('ssoSession')})\n    .map(record => this.deserializeModel(record[collection]))\n    .catch(error => this.handleError(error));\n  }\n\n  public createEntity(collection: string, data: any): Observable<Entity> {\n    return this.restangular.all(sessionStorage.getItem('channelId')).one(collection)\n    .customPOST(data, '', {sso_session: sessionStorage.getItem('ssoSession')}, {'CONNEC-EXTERNAL-IDS': false})\n    .map(record => this.deserializeModel(record[collection]))\n    .catch(error => this.handleError(error));\n  }\n\n  public updateEntity(entity: Entity, data: any): Observable<Entity> {\n    return this.restangular.all(sessionStorage.getItem('channelId')).one(entity.resource_type)\n    .customPUT(data, entity['connecId'], {sso_session: sessionStorage.getItem('ssoSession')})\n    .map(record => this.deserializeModel(record[entity.resource_type]))\n    .catch(error => this.handleError(error));\n  }\n\n  public mergeRecords(primeRecord: Entity, mergedRecords: Entity[], selectedAttributes: any) {\n    const data = {ids: mergedRecords.map(entity => entity['connecId'])};\n    data[primeRecord.resource_type] = selectedAttributes;\n    return this.restangular.all(primeRecord.channel_id).one(primeRecord.resource_type, primeRecord['connecId'])\n    .customPUT(data, 'merge', {sso_session: sessionStorage.getItem('ssoSession')}, {'CONNEC-EXTERNAL-IDS': false})\n    .map(record => {\n      return this.deserializeModel(record[primeRecord.resource_type]);\n    })\n    .catch(error => this.handleError(error));\n  }\n\n  public sendEntityToApplication(entity: Entity, productInstance: ProductInstance) {\n    const data = {mappings: [{group_id: productInstance.uid, commit: true}]};\n    return this.restangular.all(entity.channel_id).one(entity.resource_type, entity['connecId'])\n    .customPUT(data, 'commit', {sso_session: sessionStorage.getItem('ssoSession')})\n    .catch(error => this.handleError(error));\n  }\n\n  public jsonSchema(collection: string): Observable<any> {\n    return this.restangular.one('json_schema', collection).get()\n    .catch(error => this.handleError(error));\n  }\n\n  private extractQueryData(res: any, collection: string): EntitiesPage {\n    const entitiesPage: EntitiesPage = new EntitiesPage([], res['pagination']);\n\n    if (res[collection].constructor == Array) {\n      res[collection].forEach((record: any) => {\n        const entity: Entity = this.deserializeModel(record);\n        entitiesPage.entities.push(entity);\n      });\n    } else {\n      entitiesPage.pagination = {total: 1};\n      entitiesPage.entities.push(this.deserializeModel(res[collection]));\n    }\n    return entitiesPage;\n  }\n\n  protected handleError(error: any): ErrorObservable {\n    console.error(error);\n    return Observable.throw(error);\n  }\n\n  private deserializeModel(data: any) {\n    return new Entity(data);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/bruno/Workspace/connec-ui/src/app/services/connec-api.service.ts","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { ErrorObservable } from 'rxjs/observable/ErrorObservable';\n\nimport { RestangularModule, Restangular } from 'ngx-restangular';\n\nimport { ProductInstance } from '../models/product_instance';\n\n@Injectable()\nexport class MnoeApiService {\n  apiService;\n\n  constructor(private restangular: Restangular) {\n    this.restangular = this.restangular.withConfig((RestangularProvider) => {\n      RestangularProvider.setBaseUrl('/mnoe/jpi/v1');\n      RestangularProvider.setDefaultHeaders({'Content-Type': 'application/json', 'Accept': 'application/json'});\n      // RestangularProvider.setRequestSuffix('.json');\n\n      // Extract collection content\n      RestangularProvider.setResponseExtractor(function(response, operation) {\n        if (operation === 'getList') {\n          return response[Object.keys(response)[0]];\n        }\n        return response;\n      });\n    });\n  }\n\n  // Fetch current user and store session tokens and organizations\n  public configure(): Promise<any> {\n    const promise = new Promise((resolve, reject) => {\n      this.currentUser().subscribe((user: any) => {\n        // Store sso session token\n        sessionStorage.setItem('ssoSession', user['sso_session']);\n\n        // User organizations\n        const organizations: any[] = [];\n        user['organizations'].map(organization => organizations.push(organization));\n\n        // Select Organization\n        if (!sessionStorage.getItem('organizationId')) { sessionStorage.setItem('organizationId', organizations[0]['id']); }\n        if (!sessionStorage.getItem('channelId')) { sessionStorage.setItem('channelId', organizations[0]['uid']); }\n\n        resolve();\n      });\n    });\n\n    return promise;\n  }\n\n  public systemIdentity(): Observable<any> {\n    return this.restangular.one('/system_identity').get()\n    .map((res: any) => {\n      return res['system_identity'];\n    })\n    .catch(error => this.handleError(error));\n  }\n\n  public currentUser(): Observable<any> {\n    return this.restangular.one('/current_user').get()\n    .map((res: any) => {\n      return res['current_user'];\n    })\n    .catch(error => this.handleError(error));\n  }\n\n  public productInstances(): Observable<ProductInstance[]> {\n    return this.restangular.all('/organizations/' + sessionStorage.getItem('organizationId') + '/app_instances').customGET()\n    .map((res: any) => this.extractQueryData(res, 'app_instances'))\n    .catch(error => this.handleError(error));\n  }\n\n  private extractQueryData(res: any, elementName: string): ProductInstance[] {\n    const elements = [];\n    const data = res[elementName];\n    if (!data) { return []; }\n    const keys = Object.keys(data);\n    const values = keys.map(function(v) { return data[v]; });\n\n    values.forEach((record: any) => {\n      const product: ProductInstance = this.deserializeModel(record);\n      elements.push(product);\n    });\n\n    return elements;\n  }\n\n  protected handleError(error: any): ErrorObservable {\n    console.error(error);\n    return Observable.throw(error);\n  }\n\n  private deserializeModel(data: any) {\n    return new ProductInstance(data);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/bruno/Workspace/connec-ui/src/app/services/mnoe-api.service.ts","module.exports = \"<h2 mat-dialog-title>Search similar records</h2>\\n\\n<mat-dialog-content>\\n  <table class=\\\"table table-striped connec-details\\\">\\n    <tbody>\\n      <tr *ngFor=\\\"let key of entity.properties()\\\">\\n        <div *ngIf=\\\"entity[key] && !isObject(key)\\\">\\n          <td><mat-checkbox value=\\\"{{ entity[key] }}\\\" [(ngModel)]=\\\"selectedAttributes[key]\\\">{{ key }}</mat-checkbox></td>\\n          <td *ngIf=\\\"entity[key]\\\">{{ entity[key] }}</td>\\n        </div>\\n      </tr>\\n    </tbody>\\n  </table>\\n\\n</mat-dialog-content>\\n\\n<mat-dialog-actions>\\n  <button mat-button [mat-dialog-close]=\\\"true\\\" tabindex=\\\"1\\\">Search</button>\\n  <button mat-button mat-dialog-close tabindex=\\\"-1\\\">Cancel</button>\\n</mat-dialog-actions>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/bruno/Workspace/connec-ui/src/app/visualiser/connec-search-similar-dialog.html\n// module id = ../../../../../src/app/visualiser/connec-search-similar-dialog.html\n// module chunks = main","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".menu-top {\\n  margin-top: 5px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/bruno/Workspace/connec-ui/src/app/visualiser/visualiser.component.css\n// module id = ../../../../../src/app/visualiser/visualiser.component.css\n// module chunks = main","module.exports = \"<div class=\\\"row\\\">\\n  <div class=\\\"col-2\\\">\\n    <button class=\\\"menu-top\\\" color=\\\"primary\\\" mat-raised-button matTooltip=\\\"Create {{ collection }}\\\" (click)=\\\"navigateToCreateRecord()\\\">\\n       <mat-icon>add_box</mat-icon>\\n    </button>\\n\\n    <button class=\\\"menu-top\\\" color=\\\"primary\\\" mat-raised-button matTooltip=\\\"Attributes to display\\\" [matMenuTriggerFor]=\\\"attributesMenu\\\">\\n      <mat-icon>view_list</mat-icon>\\n    </button>\\n    <mat-menu #attributesMenu=\\\"matMenu\\\">\\n      <button mat-menu-item disabled>\\n        <span>Attributes to display</span>\\n      </button>\\n      <button mat-menu-item *ngFor=\\\"let availableAttribute of availableAttributes\\\" (click)=\\\"selectAttribute($event, availableAttribute['name'])\\\">\\n        <mat-checkbox value=\\\"true\\\" [(ngModel)]=\\\"selectedAttributes[availableAttribute['name']]\\\">\\n          <mat-icon>{{ availableAttribute['icon'] }}</mat-icon>\\n          {{ availableAttribute['name'] }}\\n        </mat-checkbox>\\n      </button>\\n    </mat-menu>\\n  </div>\\n\\n  <div class=\\\"col-2\\\">\\n    <button class=\\\"menu-top\\\" color=\\\"primary\\\" mat-raised-button matTooltip=\\\"Unselect All\\\" (click)=\\\"unselectAll()\\\" [disabled]=\\\"numberRecordsSelected < 1\\\">\\n       <mat-icon>check_box_outline_blank</mat-icon>\\n    </button>\\n\\n    <button class=\\\"menu-top\\\" color=\\\"primary\\\" mat-raised-button matTooltip=\\\"Merge\\\" (click)=\\\"mergeRecords()\\\" [disabled]=\\\"numberRecordsSelected < 2\\\">\\n       <mat-icon>call_merge</mat-icon>\\n    </button>\\n  </div>\\n\\n  <div class=\\\"col-8\\\">\\n    <mat-paginator [length]=\\\"dataSource?.resultsLength\\\" [pageSize]=\\\"dataSource?.pageSize\\\"></mat-paginator>\\n  </div>\\n</div>\\n\\n<div class=\\\"mat-elevation-z8\\\">\\n  <mat-table #table [dataSource]=\\\"dataSource\\\" matSort matSortDisableClear>\\n    <ng-container *ngFor=\\\"let attribute of dataSource.selectedAttributes\\\" matColumnDef=\\\"{{attribute}}\\\">\\n      <mat-header-cell *matHeaderCellDef mat-sort-header> {{ attribute }} </mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let row\\\"> {{ row[attribute] }} </mat-cell>\\n    </ng-container>\\n\\n    <!-- Applications Column -->\\n    <ng-container matColumnDef=\\\"applications\\\">\\n      <mat-header-cell *matHeaderCellDef> Applications </mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let row\\\">\\n        <span *ngFor=\\\"let idMap of idMapFilter(row.id)\\\">\\n          <img *ngIf=\\\"productInstanceFilter(idMap)\\\" aria-hidden src=\\\"{{ productInstanceFilter(idMap).logo }}\\\" height=\\\"35\\\" matTooltip=\\\"{{ productInstanceFilter(idMap).name }}\\\"/>\\n        </span>\\n      </mat-cell>\\n    </ng-container>\\n\\n    <!-- Actions Column -->\\n    <ng-container matColumnDef=\\\"actions\\\">\\n      <mat-header-cell *matHeaderCellDef> Actions </mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let row\\\">\\n        <mat-menu #appMenu=\\\"matMenu\\\">\\n          <button mat-menu-item (click)=\\\"openSearchSimilarDialog(row)\\\">\\n            <mat-icon>search</mat-icon>\\n            Search similar\\n          </button>\\n          <button mat-menu-item [matMenuTriggerFor]=\\\"sendToMenu\\\">\\n            <mat-icon>forward</mat-icon>\\n            Send to\\n          </button>\\n        </mat-menu>\\n\\n        <mat-menu #sendToMenu=\\\"matMenu\\\">\\n          <button mat-menu-item *ngFor=\\\"let productInstance of _parent.productInstances\\\" (click)=\\\"sendEntityToApplication(row, productInstance)\\\">\\n            <img aria-hidden src=\\\"{{ productInstance.logo }}\\\" height=\\\"30\\\" />\\n            {{ productInstance.name }}\\n          </button>\\n        </mat-menu>\\n\\n        <button color=\\\"primary\\\" mat-icon-button matTooltip=\\\"Details\\\" (click)=\\\"navigateToDetails(row)\\\">\\n           <mat-icon>zoom_in</mat-icon>\\n        </button>\\n\\n        <button *ngIf=\\\"row.status != 'ARCHIVED'\\\" color=\\\"warn\\\" mat-icon-button matTooltip=\\\"Archive\\\" (click)=\\\"archiveEntity(row)\\\">\\n           <mat-icon>archive</mat-icon>\\n        </button>\\n\\n        <button *ngIf=\\\"row.status == 'ARCHIVED'\\\" color=\\\"primary\\\" mat-icon-button matTooltip=\\\"Restore\\\" (click)=\\\"restoreEntity(row)\\\">\\n           <mat-icon>unarchive</mat-icon>\\n        </button>\\n\\n        <button color=\\\"primary\\\" mat-icon-button [matMenuTriggerFor]=\\\"appMenu\\\" matTooltip=\\\"More actions\\\">\\n           <mat-icon>more_vert</mat-icon>\\n        </button>\\n\\n        <mat-checkbox [(ngModel)]=\\\"selectedRecords[row['connecId']]\\\" (change)=\\\"recordSelectionChange()\\\"></mat-checkbox>\\n      </mat-cell>\\n    </ng-container>\\n\\n    <mat-header-row *matHeaderRowDef=\\\"dataSource?.displayedAttributes\\\"></mat-header-row>\\n    <mat-row *matRowDef=\\\"let row; columns: dataSource?.displayedAttributes;\\\"></mat-row>\\n  </mat-table>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/bruno/Workspace/connec-ui/src/app/visualiser/visualiser.component.html\n// module id = ../../../../../src/app/visualiser/visualiser.component.html\n// module chunks = main","import { Component, OnInit, AfterViewInit, Directive, ViewEncapsulation, ViewChild, ViewChildren, QueryList, Inject, forwardRef } from '@angular/core';\nimport { Router, ActivatedRoute, ParamMap, Params } from '@angular/router';\n\nimport { MatPaginator, MatSort, MatSelect, MatInput, MatButton, MatDialog, MatCheckbox } from '@angular/material';\nimport { DataSource } from '@angular/cdk/collections';\n\nimport { Store, ActionReducerMap } from '@ngrx/store';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/merge';\nimport 'rxjs/add/observable/of';\nimport 'rxjs/add/observable/fromEvent';\n\nimport { ConnecUiComponent } from '../connec-ui/connec-ui.component';\n\nimport { EntitiesPage } from '../models/entities_page';\nimport { Entity } from '../models/entity';\nimport { ProductInstance } from '../models/product_instance';\n\nimport { ConnecApiService } from '../services/connec-api.service';\nimport { MnoeApiService } from '../services/mnoe-api.service';\n\n@Component({\n  selector: 'visualiser',\n  templateUrl: './visualiser.component.html',\n  styleUrls: ['./visualiser.component.css'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class VisualiserComponent implements OnInit {\n  jsonSchema$: Observable<any>;\n  jsonSchema: any;\n\n  dataSource: VisualiserDataSource | null;\n  collection: string;\n\n  availableAttributes: any[] = [{name: 'friendlyName', type: 'string', description: 'Friendly name', icon: 'text_format'}];\n  selectedAttributes: any;\n\n  selectedRecords: any = {};\n  numberRecordsSelected = 0;\n\n  @ViewChild(MatPaginator) paginator: MatPaginator;\n  @ViewChild(MatSort) sort: MatSort;\n\n  @ViewChildren(MatCheckbox) attributeCheckboxes: QueryList<MatCheckbox>;\n\n  filterButtonClick$: Observable<any>;\n\n  constructor(\n    public route: ActivatedRoute,\n    public router: Router,\n    public connecApiService: ConnecApiService,\n    public mnoeApiService: MnoeApiService,\n    public dialog: MatDialog,\n    @Inject(forwardRef(() => ConnecUiComponent)) public _parent: ConnecUiComponent\n  ) {\n    // Set pre-selected attributes\n    if (sessionStorage.getItem('connec-selected-attributes-' + this.collection)) {\n      this.selectedAttributes = JSON.parse(sessionStorage.getItem('connec-selected-attributes-' + this.collection));\n    } else {\n      this.selectedAttributes = {code: true, friendlyName: true, created_at: true};\n    }\n  }\n\n  ngOnInit() {\n    this.reloadData();\n\n    // Force selected collection using route\n    this.route.params.subscribe((params: Params) => {\n      this.collection = params['collection'];\n      this._parent.collectionCtrl.setValue(params['collection']);\n\n      // Get collection JSON schema\n      this.jsonSchema$ = this.connecApiService.jsonSchema(this.collection);\n      this.jsonSchema$.subscribe(schema => {\n        this.jsonSchema = schema.plain();\n\n        // Extract list of collection available properties\n        this.availableAttributes = [{name: 'friendlyName', type: 'string', description: 'Friendly name', icon: 'text_format'}];\n\n        const json_properties = this.jsonSchema['properties'][this.collection]['items']['properties'];\n        const properties = Object.keys(json_properties);\n        properties.forEach(property => {\n          if (['resource_type', 'channel_id', 'group_id'].indexOf(property) == -1) {\n            const propertyHash = json_properties[property];\n            if (['string', 'number', 'boolean'].indexOf(propertyHash['type']) != -1) {\n              propertyHash['name'] = property;\n\n              // Icon to display\n              if (propertyHash['name'] === 'id') {\n                propertyHash['icon'] = 'vpn_key';\n              } else if (propertyHash['name'].endsWith('_id')) {\n                propertyHash['icon'] = 'compare_arrows';\n              } else if (propertyHash['type'] === 'number') {\n                propertyHash['icon'] = 'keyboard';\n              } else if (propertyHash['type'] === 'boolean') {\n                propertyHash['icon'] = 'remove';\n              } else if (propertyHash['type'] === 'string') {\n                if (propertyHash['format'] === 'date-time') {\n                  propertyHash['icon'] = 'date_range';\n                } else {\n                  propertyHash['icon'] = 'text_format';\n                }\n              } else {\n                propertyHash['icon'] = 'compare_arrows';\n              }\n\n              this.availableAttributes.push(propertyHash);\n            }\n          }\n        });\n      });\n    });\n\n    // Reset pre-defined filters on new search\n    this._parent.filterButtonClick$.subscribe((res: any) => this.dataSource.filter = '');\n  }\n\n  reloadData() {\n    this.dataSource = new VisualiserDataSource(this);\n  }\n\n  // Selection of attributes to display as table columns\n  selectAttribute($event, selectedAttribute) {\n    this.selectedAttributes[selectedAttribute] = !this.selectedAttributes[selectedAttribute];\n    if (this.selectedAttributes[selectedAttribute]) {\n      let index = this.dataSource.selectedAttributes.indexOf(selectedAttribute);\n      if (index == -1) { this.dataSource.selectedAttributes.push(selectedAttribute); }\n      index = this.dataSource.displayedAttributes.indexOf(selectedAttribute);\n      if (index == -1) { this.dataSource.displayedAttributes.splice(this.dataSource.displayedAttributes.length - 2, 0, selectedAttribute); }\n    } else {\n      let index = this.dataSource.selectedAttributes.indexOf(selectedAttribute);\n      if (index != -1) { this.dataSource.selectedAttributes.splice(index, 1); }\n      index = this.dataSource.displayedAttributes.indexOf(selectedAttribute);\n      if (index != -1) { this.dataSource.displayedAttributes.splice(index, 1); }\n    }\n\n    // Store in session\n    // sessionStorage.setItem('connec-selected-attributes-' + this.collection, JSON.stringify(this.selectedAttributes));\n\n    $event.stopPropagation();\n  }\n\n  // Return IdMaps where record has been pushed to external application\n  // Keep only 1 IdMap per group_id\n  idMapFilter(ids: any): any {\n    if (!ids) { return null; }\n    const filteredIds = [];\n    ids.filter(idMap => idMap['id'] && idMap['provider']).forEach(idMap => {\n      if (!filteredIds.some(filteredId => filteredId['group_id'] === idMap['group_id'])) {\n        filteredIds.push(idMap);\n      }\n    });\n    return filteredIds;\n  }\n\n  // Find ProductInstance of an IdMap\n  productInstanceFilter(idMap: any): ProductInstance {\n    return this._parent.productInstances.find(x => x.uid === idMap['group_id']);\n  }\n\n  sendEntityToApplication(entity: Entity, productInstance: ProductInstance) {\n    this.connecApiService.sendEntityToApplication(entity, productInstance);\n  }\n\n  archiveEntity(entity: Entity) {\n    const data = {};\n    data[entity.resource_type] = {status: 'ARCHIVED'};\n    this.connecApiService.updateEntity(entity, data).subscribe(res => this._parent.triggerDataReload());\n  }\n\n  restoreEntity(entity: Entity) {\n    const data = {};\n    data[entity.resource_type] = {status: ''};\n    this.connecApiService.updateEntity(entity, data).subscribe(res => this._parent.triggerDataReload());\n  }\n\n  navigateToDetails(entity: Entity) {\n    this.router.navigate(['/visualiser', entity.resource_type, entity['connecId']]);\n    scroll(0, 0);\n  }\n\n  navigateToCreateRecord() {\n    this.router.navigate(['/visualiser', this.collection, 'new']);\n    scroll(0, 0);\n  }\n\n  // Display dialog box to select attributes to match record against\n  openSearchSimilarDialog(entity: Entity) {\n    const dialogRef = this.dialog.open(SearchSimilarDialog);\n    dialogRef.componentInstance.entity = entity;\n\n    // On Dialog close\n    dialogRef.afterClosed().subscribe(result => {\n      // Get back to results first page\n      this.paginator.pageIndex = 0;\n      const selectedAttributes = dialogRef.componentInstance.selectedAttributes;\n      // Set attributes filters based on selected values\n      for (const key of Object.keys(selectedAttributes)) {\n        if (selectedAttributes[key]) {\n          this._parent.attributeFilters[key]['enabled'] = true;\n          this._parent.attributeFilters[key]['operator'] = 'eq';\n          this._parent.attributeFilters[key]['value'] = entity[key];\n        }\n      }\n      this.dataSource = new VisualiserDataSource(this);\n    });\n  }\n\n  unselectAll() {\n    this.selectedRecords = {};\n    this.numberRecordsSelected = 0;\n  }\n\n  recordSelectionChange() {\n    const keys = Object.keys(this.selectedRecords);\n    this.numberRecordsSelected = keys.filter(key => this.selectedRecords[key]).length;\n  }\n\n  mergeRecords() {\n    const keys = Object.keys(this.selectedRecords);\n    const records = keys.filter(key => this.selectedRecords[key]).map(key => key);\n    this.router.navigate(['/visualiser', this.collection, 'merge', {records: records}]);\n    scroll(0, 0);\n  }\n}\n\nexport class VisualiserDataSource extends DataSource<any> {\n  connecUiComponent: ConnecUiComponent;\n  paginator: MatPaginator;\n  sort: MatSort;\n  connecApiService: ConnecApiService;\n\n  selectedAttributes: string[] = [];\n  displayedAttributes: string[] = [];\n\n  filter = '';\n  search = '';\n\n  pageSize = 100;\n  resultsLength = 0;\n\n  constructor(private visualiserComponent: VisualiserComponent) {\n    super();\n\n    this.connecUiComponent = visualiserComponent._parent;\n    this.paginator = visualiserComponent.paginator;\n    this.sort = visualiserComponent.sort;\n    this.connecApiService = visualiserComponent.connecApiService;\n\n    // Initialise list of columns\n    for (const selectedAttribute in this.visualiserComponent.selectedAttributes) {\n      if (this.visualiserComponent.selectedAttributes[selectedAttribute]) {\n        this.selectedAttributes.push(selectedAttribute);\n        this.displayedAttributes.push(selectedAttribute);\n      }\n    }\n    this.displayedAttributes.push('applications');\n    this.displayedAttributes.push('actions');\n  }\n\n  public connect(): Observable<Entity[]> {\n    const displayDataChanges = [\n      this.sort.sortChange,\n      this.paginator.page,\n      this.connecUiComponent.autoComplete.optionSelected,\n      this.connecUiComponent.organizationSelector.change,\n      this.connecUiComponent.filterButtonClick$,\n      this.connecUiComponent.clearSearchButtonClick$,\n      this.connecUiComponent.checkboxArchived.change,\n      this.connecUiComponent.reloadDataTrigger\n    ];\n\n    // If the user changes the sort order, reset back to the first page\n    this.sort.sortChange.subscribe(() => this.paginator.pageIndex = 0);\n    // If user selects Archived records, reset back to the first page\n    this.connecUiComponent.checkboxArchived.change.subscribe(() => this.paginator.pageIndex = 0);\n\n    return Observable.merge(...displayDataChanges)\n      .startWith(null)\n      .switchMap(() => {\n        if (!this.connecUiComponent.collectionCtrl.value) { return []; }\n\n        this.connecUiComponent.loading = true;\n\n        // Apply attributes filters\n        const filters: string[] = [];\n        const keys = Object.keys(this.connecUiComponent.attributeFilters);\n        keys.forEach(key => {\n          const attributeFilter = this.connecUiComponent.attributeFilters[key];\n          if (attributeFilter['enabled']) {\n            switch (attributeFilter['operator']) {\n              case 'match': {\n                if (attributeFilter['value'] && attributeFilter['value'].length > 0) {\n                  filters.push(key + ' ' + attributeFilter['operator'] + ' /' + attributeFilter['value'] + '/');\n                }\n                break;\n              }\n              case 'empty': {\n                filters.push(key + ' eq null');\n                break;\n              }\n              case 'not_empty': {\n                filters.push(key + ' ne null');\n                break;\n              }\n              default: {\n                // Escape string with single quote\n                let value = attributeFilter['value'];\n                if (attributeFilter['type'] === 'string') { value = '\\'' + value + '\\''; }\n\n                filters.push(key + ' ' + attributeFilter['operator'] + ' ' + value);\n                break;\n              }\n            }\n          }\n        });\n        this.filter = filters.join(' AND ');\n\n        // Apply applications filter\n        const mappings = [];\n        const selectedApplications = this.connecUiComponent.selectedApplications;\n        for (const selectedApplication of Object.keys(selectedApplications)) {\n          if (selectedApplications[selectedApplication] == 'include') { mappings.push({group_id: selectedApplication, include: true}); }\n          if (selectedApplications[selectedApplication] == 'exclude') { mappings.push({group_id: selectedApplication, exclude: true}); }\n        }\n\n        return this.connecApiService.fetchEntities(this.connecUiComponent.collectionCtrl.value, this.pageSize, this.paginator.pageIndex, this.sort.active, this.sort.direction, this.filter, this.connecUiComponent.attributeValue, this.connecUiComponent.checkboxArchived.checked, mappings);\n      })\n      .map(entityPage => {\n        this.resultsLength = entityPage.pagination['total'];\n        this.connecUiComponent.loading = false;\n        return entityPage.entities;\n      })\n      .catch(() => {\n        this.connecUiComponent.loading = false;\n        return Observable.of([]);\n      });\n  }\n\n  public disconnect() {}\n}\n\n@Component({\n  selector: 'connec-search-similar-dialog',\n  templateUrl: 'connec-search-similar-dialog.html',\n})\nexport class SearchSimilarDialog {\n  entity: Entity;\n  selectedAttributes = {};\n\n  isObject(key) {\n    return typeof this.entity[key] === 'object';\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/bruno/Workspace/connec-ui/src/app/visualiser/visualiser.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// /Users/bruno/Workspace/connec-ui/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// /Users/bruno/Workspace/connec-ui/src/main.ts"],"sourceRoot":"webpack:///"}